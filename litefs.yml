# LiteFS configuration for Django application

# FUSE mount directory for LiteFS
fuse:
  dir: "/litefs"

# Data directory for the database files
data:
  dir: "/var/lib/litefs"

# Lease configuration - Static to force primary role
lease:
  type: "static"
  advertise-url: "http://${HOSTNAME}:20202"
  candidate: true

# HTTP server for LiteFS management
http:
  addr: ":20202"

# Proxy configuration
proxy:
  addr: ":8080"
  target: "localhost:8000"
  db: "db.sqlite3"

# Execute Django application with gunicorn
exec: "sh -c 'export DJANGO_SETTINGS_MODULE=config.settings.production && echo \"Starting Django...\" && gunicorn --bind 0.0.0.0:8000 config.wsgi:application'"